// This file is auto-generated by @hey-api/openapi-ts

export type ClientOptions = {
  baseURL: string;
};

export type CreateGraphDto = {
  name: string;
  description?: string | null;
  schema: {
    nodes: Array<{
      /**
       * Unique identifier for this node
       */
      id: string;
      /**
       * Template name registered in TemplateRegistry
       */
      template: string;
      /**
       * Template-specific configuration
       */
      config: {
        [key: string]: unknown;
      };
    }>;
    edges?: Array<{
      /**
       * Source node ID
       */
      from: string;
      /**
       * Target node ID
       */
      to: string;
      /**
       * Optional edge label
       */
      label?: string;
    }>;
  };
  metadata?: {
    /**
     * Node coordinates and names by node ID
     */
    nodes?: Array<{
      id: string;
      /**
       * X coordinate of the node
       */
      x?: number;
      /**
       * Y coordinate of the node
       */
      y?: number;
      /**
       * Optional display name for the node
       */
      name?: string;
    }>;
    /**
     * Zoom level for graph display
     */
    zoom?: number;
    /**
     * X coordinate
     */
    x?: number;
    /**
     * Y coordinate
     */
    y?: number;
    [key: string]:
      | unknown
      | Array<{
          id: string;
          /**
           * X coordinate of the node
           */
          x?: number;
          /**
           * Y coordinate of the node
           */
          y?: number;
          /**
           * Optional display name for the node
           */
          name?: string;
        }>
      | number
      | undefined;
  } | null;
  /**
   * If true, graph will be deleted instead of restored after server restart
   */
  temporary?: boolean | null;
};

export type GraphDto = {
  id: string;
  name: string;
  description?: string | null;
  error?: string | null;
  version: string;
  /**
   * Target version after all queued revisions are applied
   */
  targetVersion: string;
  schema: {
    nodes: Array<{
      /**
       * Unique identifier for this node
       */
      id: string;
      /**
       * Template name registered in TemplateRegistry
       */
      template: string;
      /**
       * Template-specific configuration
       */
      config: {
        [key: string]: unknown;
      };
    }>;
    edges?: Array<{
      /**
       * Source node ID
       */
      from: string;
      /**
       * Target node ID
       */
      to: string;
      /**
       * Optional edge label
       */
      label?: string;
    }>;
  };
  status: 'created' | 'compiling' | 'running' | 'stopped' | 'error';
  metadata?: {
    /**
     * Node coordinates and names by node ID
     */
    nodes?: Array<{
      id: string;
      /**
       * X coordinate of the node
       */
      x?: number;
      /**
       * Y coordinate of the node
       */
      y?: number;
      /**
       * Optional display name for the node
       */
      name?: string;
    }>;
    /**
     * Zoom level for graph display
     */
    zoom?: number;
    /**
     * X coordinate
     */
    x?: number;
    /**
     * Y coordinate
     */
    y?: number;
    [key: string]:
      | unknown
      | Array<{
          id: string;
          /**
           * X coordinate of the node
           */
          x?: number;
          /**
           * Y coordinate of the node
           */
          y?: number;
          /**
           * Optional display name for the node
           */
          name?: string;
        }>
      | number
      | undefined;
  } | null;
  createdAt: string;
  updatedAt: string;
  /**
   * If true, graph will be deleted instead of restored after server restart
   */
  temporary?: boolean | null;
};

export type GraphNodeWithStatusDto = {
  /**
   * Node ID
   */
  id: string;
  /**
   * Display name for node
   */
  name: string;
  /**
   * Template identifier
   */
  template: string;
  /**
   * Node kind
   */
  type: 'runtime' | 'tool' | 'simpleAgent' | 'trigger' | 'resource';
  /**
   * Current node status
   */
  status: 'stopped' | 'starting' | 'running' | 'idle';
  /**
   * Node configuration
   */
  config: unknown;
  /**
   * Last error message
   */
  error?: string | null;
  metadata?: {
    threadId?: string;
    runId?: string;
    parentThreadId?: string;
  };
  /**
   * Additional metadata exposed by the node implementation
   */
  additionalNodeMetadata?: {
    [key: string]: unknown;
  };
};

export type UpdateGraphDto = {
  name?: string;
  description?: string | null;
  schema?: {
    nodes: Array<{
      /**
       * Unique identifier for this node
       */
      id: string;
      /**
       * Template name registered in TemplateRegistry
       */
      template: string;
      /**
       * Template-specific configuration
       */
      config: {
        [key: string]: unknown;
      };
    }>;
    edges?: Array<{
      /**
       * Source node ID
       */
      from: string;
      /**
       * Target node ID
       */
      to: string;
      /**
       * Optional edge label
       */
      label?: string;
    }>;
  };
  metadata?: {
    /**
     * Node coordinates and names by node ID
     */
    nodes?: Array<{
      id: string;
      /**
       * X coordinate of the node
       */
      x?: number;
      /**
       * Y coordinate of the node
       */
      y?: number;
      /**
       * Optional display name for the node
       */
      name?: string;
    }>;
    /**
     * Zoom level for graph display
     */
    zoom?: number;
    /**
     * X coordinate
     */
    x?: number;
    /**
     * Y coordinate
     */
    y?: number;
    [key: string]:
      | unknown
      | Array<{
          id: string;
          /**
           * X coordinate of the node
           */
          x?: number;
          /**
           * Y coordinate of the node
           */
          y?: number;
          /**
           * Optional display name for the node
           */
          name?: string;
        }>
      | number
      | undefined;
  } | null;
  /**
   * If true, graph will be deleted instead of restored after server restart
   */
  temporary?: boolean | null;
  /**
   * Current version of the graph (for optimistic locking and 3-way merge base)
   */
  currentVersion: string;
};

export type UpdateGraphResponseDto = {
  /**
   * Updated graph
   */
  graph: {
    id: string;
    name: string;
    description?: string | null;
    error?: string | null;
    version: string;
    /**
     * Target version after all queued revisions are applied
     */
    targetVersion: string;
    schema: {
      nodes: Array<{
        /**
         * Unique identifier for this node
         */
        id: string;
        /**
         * Template name registered in TemplateRegistry
         */
        template: string;
        /**
         * Template-specific configuration
         */
        config: {
          [key: string]: unknown;
        };
      }>;
      edges?: Array<{
        /**
         * Source node ID
         */
        from: string;
        /**
         * Target node ID
         */
        to: string;
        /**
         * Optional edge label
         */
        label?: string;
      }>;
    };
    status: 'created' | 'compiling' | 'running' | 'stopped' | 'error';
    metadata?: {
      /**
       * Node coordinates and names by node ID
       */
      nodes?: Array<{
        id: string;
        /**
         * X coordinate of the node
         */
        x?: number;
        /**
         * Y coordinate of the node
         */
        y?: number;
        /**
         * Optional display name for the node
         */
        name?: string;
      }>;
      /**
       * Zoom level for graph display
       */
      zoom?: number;
      /**
       * X coordinate
       */
      x?: number;
      /**
       * Y coordinate
       */
      y?: number;
      [key: string]:
        | unknown
        | Array<{
            id: string;
            /**
             * X coordinate of the node
             */
            x?: number;
            /**
             * Y coordinate of the node
             */
            y?: number;
            /**
             * Optional display name for the node
             */
            name?: string;
          }>
        | number
        | undefined;
    } | null;
    createdAt: string;
    updatedAt: string;
    /**
     * If true, graph will be deleted instead of restored after server restart
     */
    temporary?: boolean | null;
  };
  /**
   * Created revision if graph was running/compiling
   */
  revision?: {
    id: string;
    graphId: string;
    /**
     * Version the client changes were based on
     */
    baseVersion: string;
    /**
     * New head version after this revision
     */
    toVersion: string;
    /**
     * JSON Patch (RFC 6902) operations between old and new schemas
     */
    configurationDiff: Array<
      | {
          op: 'add';
          path: string;
          value: unknown;
        }
      | {
          op: 'remove';
          path: string;
        }
      | {
          op: 'replace';
          path: string;
          value: unknown;
        }
      | {
          op: 'move';
          from: string;
          path: string;
        }
      | {
          op: 'copy';
          from: string;
          path: string;
        }
      | {
          op: 'test';
          path: string;
          value: unknown;
        }
    >;
    /**
     * Schema submitted by the client
     */
    clientSchema: {
      nodes: Array<{
        /**
         * Unique identifier for this node
         */
        id: string;
        /**
         * Template name registered in TemplateRegistry
         */
        template: string;
        /**
         * Template-specific configuration
         */
        config: {
          [key: string]: unknown;
        };
      }>;
      edges?: Array<{
        /**
         * Source node ID
         */
        from: string;
        /**
         * Target node ID
         */
        to: string;
        /**
         * Optional edge label
         */
        label?: string;
      }>;
    };
    /**
     * Merged schema result
     */
    newSchema: {
      nodes: Array<{
        /**
         * Unique identifier for this node
         */
        id: string;
        /**
         * Template name registered in TemplateRegistry
         */
        template: string;
        /**
         * Template-specific configuration
         */
        config: {
          [key: string]: unknown;
        };
      }>;
      edges?: Array<{
        /**
         * Source node ID
         */
        from: string;
        /**
         * Target node ID
         */
        to: string;
        /**
         * Optional edge label
         */
        label?: string;
      }>;
    };
    status: 'pending' | 'applying' | 'applied' | 'failed';
    error?: string;
    createdAt: string;
    updatedAt: string;
  } | null;
};

export type ExecuteTriggerDto = {
  /**
   * Array of messages to send to the trigger
   */
  messages: Array<string>;
  /**
   * Optional thread sub-ID that will be used to create the full thread ID.
   */
  threadSubId?: string;
  /**
   * If true, do not wait for execution to finish (fire-and-forget).
   */
  async?: boolean;
};

export type ExecuteTriggerResponseDto = {
  /**
   * The thread ID used for this execution
   */
  externalThreadId: string;
  /**
   * The checkpoint namespace for this execution
   */
  checkpointNs?: string;
};

export type GraphRevisionDto = {
  id: string;
  graphId: string;
  /**
   * Version the client changes were based on
   */
  baseVersion: string;
  /**
   * New head version after this revision
   */
  toVersion: string;
  /**
   * JSON Patch (RFC 6902) operations between old and new schemas
   */
  configurationDiff: Array<
    | {
        op: 'add';
        path: string;
        value: unknown;
      }
    | {
        op: 'remove';
        path: string;
      }
    | {
        op: 'replace';
        path: string;
        value: unknown;
      }
    | {
        op: 'move';
        from: string;
        path: string;
      }
    | {
        op: 'copy';
        from: string;
        path: string;
      }
    | {
        op: 'test';
        path: string;
        value: unknown;
      }
  >;
  /**
   * Schema submitted by the client
   */
  clientSchema: {
    nodes: Array<{
      /**
       * Unique identifier for this node
       */
      id: string;
      /**
       * Template name registered in TemplateRegistry
       */
      template: string;
      /**
       * Template-specific configuration
       */
      config: {
        [key: string]: unknown;
      };
    }>;
    edges?: Array<{
      /**
       * Source node ID
       */
      from: string;
      /**
       * Target node ID
       */
      to: string;
      /**
       * Optional edge label
       */
      label?: string;
    }>;
  };
  /**
   * Merged schema result
   */
  newSchema: {
    nodes: Array<{
      /**
       * Unique identifier for this node
       */
      id: string;
      /**
       * Template name registered in TemplateRegistry
       */
      template: string;
      /**
       * Template-specific configuration
       */
      config: {
        [key: string]: unknown;
      };
    }>;
    edges?: Array<{
      /**
       * Source node ID
       */
      from: string;
      /**
       * Target node ID
       */
      to: string;
      /**
       * Optional edge label
       */
      label?: string;
    }>;
  };
  status: 'pending' | 'applying' | 'applied' | 'failed';
  error?: string;
  createdAt: string;
  updatedAt: string;
};

export type TemplateDto = {
  id: string;
  name: string;
  description: string;
  kind: 'runtime' | 'tool' | 'simpleAgent' | 'trigger' | 'resource';
  schema: {
    [key: string]: unknown;
  };
  inputs?: Array<
    | {
        type: 'kind';
        value: 'runtime' | 'tool' | 'simpleAgent' | 'trigger' | 'resource';
        required?: boolean;
        multiple: boolean;
      }
    | {
        type: 'template';
        value: string;
        required?: boolean;
        multiple: boolean;
      }
  >;
  outputs?: Array<
    | {
        type: 'kind';
        value: 'runtime' | 'tool' | 'simpleAgent' | 'trigger' | 'resource';
        required?: boolean;
        multiple: boolean;
      }
    | {
        type: 'template';
        value: string;
        required?: boolean;
        multiple: boolean;
      }
  >;
};

export type ThreadDto = {
  /**
   * Thread ID
   */
  id: string;
  /**
   * Graph ID
   */
  graphId: string;
  /**
   * External thread ID from LangChain
   */
  externalThreadId: string;
  createdAt: string;
  updatedAt: string;
  /**
   * Additional thread metadata
   */
  metadata?: {
    [key: string]: unknown;
  } | null;
  /**
   * Source of thread creation (e.g., trigger template name)
   */
  source?: string | null;
  /**
   * Thread name (auto-generated from first user message)
   */
  name?: string | null;
  /**
   * Thread execution status
   */
  status: 'running' | 'done' | 'need_more_info' | 'stopped';
};

export type ThreadMessageDto = {
  id: string;
  threadId: string;
  nodeId: string;
  externalThreadId: string;
  createdAt: string;
  updatedAt: string;
  message:
    | {
        /**
         * Message role
         */
        role: 'human';
        /**
         * Message content
         */
        content: string;
        /**
         * Additional message metadata
         */
        additionalKwargs?: {
          [key: string]: unknown;
        };
      }
    | {
        /**
         * Message role
         */
        role: 'ai';
        /**
         * Message content
         */
        content: string;
        /**
         * Message ID
         */
        id?: string;
        /**
         * Original raw content as received from the provider
         */
        rawContent?: unknown;
        /**
         * Tool calls in the message
         */
        toolCalls?: Array<{
          /**
           * Tool name
           */
          name: string;
          /**
           * Tool arguments
           */
          args: {
            [key: string]: unknown;
          };
          /**
           * Tool call type
           */
          type: string;
          /**
           * Tool call ID
           */
          id: string;
        }>;
        /**
         * Additional message metadata
         */
        additionalKwargs?: {
          [key: string]: unknown;
        };
      }
    | {
        /**
         * Message ID
         */
        id?: string;
        /**
         * Message role
         */
        role: 'reasoning';
        /**
         * Reasoning trace emitted by the model
         */
        content: string;
        /**
         * Additional message metadata
         */
        additionalKwargs?: {
          [key: string]: unknown;
        };
      }
    | {
        /**
         * Message role
         */
        role: 'system';
        /**
         * Message content
         */
        content: string;
        /**
         * Additional message metadata
         */
        additionalKwargs?: {
          [key: string]: unknown;
        };
      }
    | {
        /**
         * Message role
         */
        role: 'tool-shell';
        /**
         * Tool name - shell
         */
        name: 'shell';
        /**
         * Parsed shell execution result
         */
        content: {
          /**
           * Exit code of the shell command
           */
          exitCode: number;
          /**
           * Standard output from the command
           */
          stdout: string;
          /**
           * Standard error from the command
           */
          stderr: string;
        };
        /**
         * Tool call ID
         */
        toolCallId: string;
        /**
         * Additional message metadata
         */
        additionalKwargs?: {
          [key: string]: unknown;
        };
      }
    | {
        /**
         * Message role
         */
        role: 'tool';
        /**
         * Tool name
         */
        name: string;
        /**
         * Parsed tool result as JSON
         */
        content: {
          [key: string]: unknown;
        };
        /**
         * Tool call ID
         */
        toolCallId: string;
        /**
         * Additional message metadata
         */
        additionalKwargs?: {
          [key: string]: unknown;
        };
      };
};

export type LiteLlmModelDto = {
  /**
   * Model identifier
   */
  id: string;
  /**
   * Owner of the model
   */
  ownedBy: string;
};

export type GetAllGraphsData = {
  body?: never;
  path?: never;
  query?: never;
  url: '/api/v1/graphs';
};

export type GetAllGraphsResponses = {
  200: Array<GraphDto>;
};

export type GetAllGraphsResponse =
  GetAllGraphsResponses[keyof GetAllGraphsResponses];

export type CreateGraphData = {
  body: CreateGraphDto;
  path?: never;
  query?: never;
  url: '/api/v1/graphs';
};

export type CreateGraphResponses = {
  201: GraphDto;
};

export type CreateGraphResponse =
  CreateGraphResponses[keyof CreateGraphResponses];

export type DeleteGraphData = {
  body?: never;
  path: {
    id: string;
  };
  query?: never;
  url: '/api/v1/graphs/{id}';
};

export type DeleteGraphResponses = {
  200: unknown;
};

export type FindGraphByIdData = {
  body?: never;
  path: {
    id: string;
  };
  query?: never;
  url: '/api/v1/graphs/{id}';
};

export type FindGraphByIdResponses = {
  200: GraphDto;
};

export type FindGraphByIdResponse =
  FindGraphByIdResponses[keyof FindGraphByIdResponses];

export type UpdateGraphData = {
  body: UpdateGraphDto;
  path: {
    id: string;
  };
  query?: never;
  url: '/api/v1/graphs/{id}';
};

export type UpdateGraphResponses = {
  200: UpdateGraphResponseDto;
};

export type UpdateGraphResponse =
  UpdateGraphResponses[keyof UpdateGraphResponses];

export type GetCompiledNodesData = {
  body?: never;
  path: {
    id: string;
  };
  query?: {
    threadId?: string;
    runId?: string;
  };
  url: '/api/v1/graphs/{id}/nodes';
};

export type GetCompiledNodesResponses = {
  200: Array<GraphNodeWithStatusDto>;
};

export type GetCompiledNodesResponse =
  GetCompiledNodesResponses[keyof GetCompiledNodesResponses];

export type RunGraphData = {
  body?: never;
  path: {
    id: string;
  };
  query?: never;
  url: '/api/v1/graphs/{id}/run';
};

export type RunGraphResponses = {
  201: GraphDto;
};

export type RunGraphResponse = RunGraphResponses[keyof RunGraphResponses];

export type DestroyGraphData = {
  body?: never;
  path: {
    id: string;
  };
  query?: never;
  url: '/api/v1/graphs/{id}/destroy';
};

export type DestroyGraphResponses = {
  201: GraphDto;
};

export type DestroyGraphResponse =
  DestroyGraphResponses[keyof DestroyGraphResponses];

export type ExecuteTriggerData = {
  body: ExecuteTriggerDto;
  path: {
    graphId: string;
    triggerId: string;
  };
  query?: never;
  url: '/api/v1/graphs/{graphId}/triggers/{triggerId}/execute';
};

export type ExecuteTriggerResponses = {
  201: ExecuteTriggerResponseDto;
};

export type ExecuteTriggerResponse =
  ExecuteTriggerResponses[keyof ExecuteTriggerResponses];

export type GetGraphRevisionsData = {
  body?: never;
  path: {
    graphId: string;
  };
  query?: {
    status?: 'pending' | 'applying' | 'applied' | 'failed';
    /**
     * Maximum number of revisions to return
     */
    limit?: number;
  };
  url: '/api/v1/graphs/{graphId}/revisions';
};

export type GetGraphRevisionsResponses = {
  200: Array<GraphRevisionDto>;
};

export type GetGraphRevisionsResponse =
  GetGraphRevisionsResponses[keyof GetGraphRevisionsResponses];

export type GetGraphRevisionData = {
  body?: never;
  path: {
    graphId: string;
    id: string;
  };
  query?: never;
  url: '/api/v1/graphs/{graphId}/revisions/{id}';
};

export type GetGraphRevisionResponses = {
  200: GraphRevisionDto;
};

export type GetGraphRevisionResponse =
  GetGraphRevisionResponses[keyof GetGraphRevisionResponses];

export type GetAllTemplatesData = {
  body?: never;
  path?: never;
  query?: never;
  url: '/api/v1/templates';
};

export type GetAllTemplatesResponses = {
  200: Array<TemplateDto>;
};

export type GetAllTemplatesResponse =
  GetAllTemplatesResponses[keyof GetAllTemplatesResponses];

export type GetThreadsData = {
  body?: never;
  path?: never;
  query?: {
    /**
     * Filter by graph ID
     */
    graphId?: string;
    /**
     * Maximum number of threads to return
     */
    limit?: number;
    /**
     * Number of threads to skip
     */
    offset?: number;
  };
  url: '/api/v1/threads';
};

export type GetThreadsResponses = {
  200: Array<ThreadDto>;
};

export type GetThreadsResponse = GetThreadsResponses[keyof GetThreadsResponses];

export type DeleteThreadData = {
  body?: never;
  path: {
    threadId: string;
  };
  query?: never;
  url: '/api/v1/threads/{threadId}';
};

export type DeleteThreadResponses = {
  200: unknown;
};

export type GetThreadByIdData = {
  body?: never;
  path: {
    threadId: string;
  };
  query?: never;
  url: '/api/v1/threads/{threadId}';
};

export type GetThreadByIdResponses = {
  200: ThreadDto;
};

export type GetThreadByIdResponse =
  GetThreadByIdResponses[keyof GetThreadByIdResponses];

export type GetThreadByExternalIdData = {
  body?: never;
  path: {
    externalThreadId: string;
  };
  query?: never;
  url: '/api/v1/threads/external/{externalThreadId}';
};

export type GetThreadByExternalIdResponses = {
  200: ThreadDto;
};

export type GetThreadByExternalIdResponse =
  GetThreadByExternalIdResponses[keyof GetThreadByExternalIdResponses];

export type GetThreadMessagesData = {
  body?: never;
  path: {
    threadId: string;
  };
  query?: {
    /**
     * Filter messages by node ID (agent node)
     */
    nodeId?: string;
    /**
     * Maximum number of messages to return
     */
    limit?: number;
    /**
     * Number of messages to skip
     */
    offset?: number;
  };
  url: '/api/v1/threads/{threadId}/messages';
};

export type GetThreadMessagesResponses = {
  200: Array<ThreadMessageDto>;
};

export type GetThreadMessagesResponse =
  GetThreadMessagesResponses[keyof GetThreadMessagesResponses];

export type ListModelsData = {
  body?: never;
  path?: never;
  query?: never;
  url: '/api/v1/litellm/models';
};

export type ListModelsResponses = {
  200: Array<LiteLlmModelDto>;
};

export type ListModelsResponse = ListModelsResponses[keyof ListModelsResponses];
